{$CLEO .cs}

Alloc($PLAYER_ACTOR, 3)

script_name 'HEAVYCAR'
// == Credit ==
// Originally created by The AnonMod ANG
// Link: https://www.gtainside.com/en/sanandreas/mods/43308-heavy-car-v3/

:main
wait 0

// Check if the player is active; return to main loop if not
if not Player.IsPlaying($PLAYER_ACTOR)
then
    goto @main
end

// Check if the player is in a car; return to main loop if not
if Char.IsInAnyCar($PLAYER_ACTOR)
then
    1@ = Char.StoreCarIsIn($PLAYER_ACTOR)
    Car.Fix(1@)
    Car.SetHeavy(1@, True)
    Car.SetCanBeVisiblyDamaged(1@, False)
    Car.SetPetrolTankWeakpoint(1@, False)
    Car.SetHealth(1@, 10000)
    Car.SetTraction(1@, 2.0)
    Text.PrintHelp("Heavy Car Activated", 1000)
else
    goto @main
end

goto @main

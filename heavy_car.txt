{$CLEO .cs}
Alloc($PLAYER_ACTOR, 3)

script_name 'HEAVYCAR'
// == Credit ==
// Originally created by The AnonMod ANG
// Link: https://www.gtainside.com/en/sanandreas/mods/43308-heavy-car-v3/

:HEAVYCAR_19
wait 0
if 
  Player.IsPlaying($PLAYER_ACTOR)
1@ = Char.StoreCarIsInNoSave($PLAYER_ACTOR)
goto_if_false @HEAVYCAR_19
if 
  Char.IsInAnyCar($PLAYER_ACTOR)
goto_if_false @HEAVYCAR_19
wait 0
goto @HEAVYCAR_74

:HEAVYCAR_74
wait 0
if 
  Pad.IsKeyPressed(KeyCode.H)
goto_if_false @HEAVYCAR_158
Car.Fix(1@)
Car.SetHeavy(1@, True)
Car.GiveNonPlayerNitro(1@)
Car.SetCanBeVisiblyDamaged(1@, False)
Car.SetPetrolTankWeakpoint(1@, False)
Car.SetHealth(1@, 10000)
Car.SetTraction(1@, 2.0)
Text.PrintHelp('CS_WELC')
wait 3000

:HEAVYCAR_158
wait 0
goto @HEAVYCAR_19
